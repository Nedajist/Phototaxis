[gd_scene load_steps=10 format=3 uid="uid://ck2xur32foxlf"]

[ext_resource type="Script" uid="uid://cuwhwa3mamyvi" path="res://moth_enemy/moth_testing_scene.gd" id="1_iqrvf"]
[ext_resource type="PackedScene" uid="uid://dq66112hawpx3" path="res://moth_enemy/moth_enemy.tscn" id="1_w7ixk"]
[ext_resource type="PackedScene" uid="uid://dqqqxrwirr7dw" path="res://outside_floodlight.tscn" id="2_ynr6c"]
[ext_resource type="PackedScene" uid="uid://byia83ocim6js" path="res://scenes/player_character.tscn" id="3_bu470"]

[sub_resource type="BoxMesh" id="BoxMesh_bu470"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ynr6c"]

[sub_resource type="NavigationMesh" id="NavigationMesh_bu470"]
vertices = PackedVector3Array(9.329857, 0.2297306, -17.278362, 9.579857, -0.7702694, -16.028362, 15.079857, -0.7702694, -16.028362, 14.829857, 5.9797306, -24.028362, 8.079857, 5.9797306, -24.028362, 12.579918, 2.9797306, -20.798428, 7.829857, 0.2297306, -17.278362, 2.8298569, 5.9797306, -23.778362, 3.0798569, -0.020269394, -17.028362, 5.0748806, 2.9797306, -20.781387, 3.5798569, -6.2702694, -9.528362, 3.3298569, -1.7702694, -14.778362, 1.3298569, -1.7702694, -15.028362, -12.170143, -2.0202694, -14.528362, -11.670143, -6.7702694, -9.028362, -0.90485287, -6.0202694, -10.289672, -9.930035, -4.7702694, -11.7544775, 2.1000624, -4.7702694, -11.766582, 1.3298569, -0.020269394, -16.778362, -12.170143, 5.7297306, -23.528362, -0.904974, 2.9797306, -20.799543, -9.915047, 2.9797306, -20.765465, 9.329857, -1.7702694, -14.778362, 8.329857, -1.7702694, -14.778362, 8.829857, -6.2702694, -9.528362, 15.329857, -6.2702694, -9.778362, 11.06493, -4.7702694, -11.787439, 5.0748806, -4.7702694, -11.781387)
polygons = [PackedInt32Array(3, 5, 4), PackedInt32Array(4, 5, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(2, 5, 3), PackedInt32Array(5, 2, 0), PackedInt32Array(0, 6, 4), PackedInt32Array(6, 9, 4), PackedInt32Array(4, 9, 7), PackedInt32Array(7, 9, 8), PackedInt32Array(8, 9, 6), PackedInt32Array(13, 16, 14), PackedInt32Array(14, 15, 10), PackedInt32Array(10, 17, 11), PackedInt32Array(11, 17, 12), PackedInt32Array(12, 16, 13), PackedInt32Array(16, 15, 14), PackedInt32Array(15, 17, 10), PackedInt32Array(17, 15, 12), PackedInt32Array(12, 15, 16), PackedInt32Array(7, 8, 18), PackedInt32Array(18, 12, 13), PackedInt32Array(19, 21, 13), PackedInt32Array(13, 21, 18), PackedInt32Array(18, 20, 7), PackedInt32Array(7, 20, 19), PackedInt32Array(19, 20, 21), PackedInt32Array(21, 20, 18), PackedInt32Array(24, 23, 22), PackedInt32Array(24, 26, 25), PackedInt32Array(25, 26, 2), PackedInt32Array(2, 22, 1), PackedInt32Array(22, 26, 24), PackedInt32Array(26, 22, 2), PackedInt32Array(23, 27, 11), PackedInt32Array(11, 27, 10), PackedInt32Array(10, 27, 24), PackedInt32Array(24, 27, 23)]

[sub_resource type="BoxMesh" id="BoxMesh_ynr6c"]

[sub_resource type="BoxShape3D" id="BoxShape3D_bu470"]
size = Vector3(1, 4.626709, 4.971817)

[node name="MothTestingScene" type="Node"]
script = ExtResource("1_iqrvf")

[node name="MothLight" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.5848856, 0, -4.60308)

[node name="MothLight" type="MeshInstance3D" parent="MothLight"]
mesh = SubResource("BoxMesh_bu470")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="MothLight"]
shape = SubResource("BoxShape3D_ynr6c")

[node name="Lights" type="Node3D" parent="."]

[node name="lightpost2" parent="Lights" node_paths=PackedStringArray("light_parents", "particle_agents") groups=["Lights"] instance=ExtResource("2_ynr6c")]
transform = Transform3D(-0.9085521, 0, -0.4177718, 0, 1, 0, 0.4177718, 0, -0.9085521, 7.7163506, -0.9611616, 10.687622)
light_parents = []
particle_agents = []

[node name="lightpost" parent="Lights" node_paths=PackedStringArray("light_parents", "particle_agents") groups=["Lights"] instance=ExtResource("2_ynr6c")]
transform = Transform3D(-0.63739717, 0, -0.77053547, 0, 1, 0, 0.77053547, 0, -0.63739717, -5.7333584, -0.48058128, -2.9823878)
light_parents = []
particle_agents = []

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.04104005, -0.65085995, 0.7580878, 0, 0.75872695, 0.6514088, -0.9991575, -0.02673385, 0.031138195, 11.959379, 10.986662, 5.970937)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(0.04104005, -0.65085995, 0.7580878, 0, 0.75872695, 0.6514088, -0.9991575, -0.02673385, 0.031138195, 12.00713, 10.9802265, 5.9679136)
navigation_mesh = SubResource("NavigationMesh_bu470")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(0.04104005, -1.8626451e-09, -0.99915755, -0.65085995, 0.758727, -0.026733851, 0.7580877, 0.65140873, 0.031138193, 1.4784627, -1.2580326, -16.935846)
use_collision = true
size = Vector3(20, 1, 28)

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D" groups=["Wall"]]
transform = Transform3D(0.04104004, -9.313226e-09, -0.99915755, -0.65086, 0.75872695, -0.02673385, 0.75808775, 0.6514088, 0.031138178, 5.339305, 0.81990063, -15.334562)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D" groups=["Wall"]]
transform = Transform3D(0.81285405, 7.285838e-16, 0, 1.3536739e-16, 5, 0, 0, 0, 7, 0.24604154, 0, -3.6663046e-09)
mesh = SubResource("BoxMesh_ynr6c")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, -1.6653345e-16, -8e-45, 1.6653345e-16, 1, 4.298951e-36, 8e-45, -4.298951e-36, 1, 0.2460416, 0.16662598, -0.03282315)
shape = SubResource("BoxShape3D_bu470")

[node name="MothEnemy" parent="." node_paths=PackedStringArray("player_character") instance=ExtResource("1_w7ixk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.2510767, 0.49356413, 2.6368637)
player_character = NodePath("../PlayerCharacter")

[node name="PlayerCharacter" parent="." node_paths=PackedStringArray("camera_lookat_target") instance=ExtResource("3_bu470")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1619954, 0.9999995, 15.071329)
camera_lookat_target = NodePath("../MothEnemy")
